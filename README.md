# Сервис поиска городов и стран, языков, на которых говорят эти страны
## Установка 
В файле settings.py в диррективе ALLOWED_HOSTS пропишите адрес, который будет использоваться как хост.

В диррективах STATIC_ROOT, STATIC_URL, пропишите верные пути до папки со статическими файлами.

В корне проекта запустите 
``` 
pipenv shell
pipenv install
python manage.py migrate
python manage.py collectstatic
```
Для локального развертывания - запустите 
```
python manage.py runserver
```
## Использование

### countries

**URL**: ```api/v0/countries/```

**Модель**

```
 {
    "code": "ABW",
    "code_2": "AW",
    "name": "Aruba",
    "continent": "North America",
    "region": "Caribbean",
    "surface_area": 193.0,
    "indep_year": null,
    "population": 103000,
    "life_expectancy": 78.4,
    "GNP": 828.0,
    "GNP_old": 793.0,
    "local_name": "Aruba",
    "government_form": "Nonmetropolitan Territory of The Netherlands",
    "head_of_state": "Beatrix",
    "capital": 129
}
```

**Методы**

| Метод | Аргументы на вход | Аргументы на выход |
| ----- | ----------------- | ------------------ |
| C | json со значениями для добавления | Успех - ответ 201, json с созданным объектом. Провал - ответ 400, сообщение с ошибкой. |
| R | id объекта | Успех - ответ 200 + json объект. Провал - ответ 404. |
| U | json данные для обновления | Успех - ответ 200 + json объект. Провал - ответ 404, либо 406, либо 400 - в зависимости от типа ошибки.
| D | id объекта | Успех - ответ 204. Провал - ответ 404, либо 406, либо 400 - в зависимости от типа ошибки. |

### cities

**URL**: ```api/v0/cities/```

**Модель**

```
{
    "id": 1,
    "name": "Kabul",
    "district": "Kabol",
    "population": 1780000,
    "country_code": "AFG"
}
```

**Методы**

| Метод | Аргументы на вход | Аргументы на выход |
| ----- | ----------------- | ------------------ |
| C | json со значениями для добавления | Успех - ответ 201, json с созданным объектом. Провал - ответ 400, сообщение с ошибкой. |
| R | id объекта | Успех - ответ 200 + json объект. Провал - ответ 404. |
| U | json данные для обновления | Успех - ответ 200 + json объект. Провал - ответ 404, либо 406, либо 400 - в зависимости от типа ошибки.
| D | id объекта | Успех - ответ 204. Провал - ответ 404, либо 406, либо 400 - в зависимости от типа ошибки. |

### languages

**URL**: ```api/v0/languages/```

**Модель**

```
{
    "id": 1,
    "language": " Hindi  ",
    "is_official": false,
    "percentage": 0.0,
    "country_code": "ARE"
}
```

**Методы**



| Метод | Аргументы на вход | Аргументы на выход |
| ----- | ----------------- | ------------------ |
| C | json со значениями для добавления | Успех - ответ 201, json с созданным объектом. Провал - ответ 400, сообщение с ошибкой. |
| R | id объекта | Успех - ответ 200 + json объект. Провал - ответ 404. |
| U | json данные для обновления | Успех - ответ 200 + json объект. Провал - ответ 404, либо 406, либо 400 - в зависимости от типа ошибки.
| D | id объекта | Успех - ответ 204. Провал - ответ 404, либо 406, либо 400 - в зависимости от типа ошибки. |

## Поиск по странам

**URL**: ```api/v0/countries/```

Для поиска необходимо передать значение одного или нескольких из полей в GET-параметре по указанному маршруту. 

Пример запроса: ```http://127.0.0.1:8000/api/v0/countries/?continent=Asia&name=&local_name=```
